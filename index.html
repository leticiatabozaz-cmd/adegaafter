<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Adega After</title>

<style>
body {
    margin: 0;
    font-family: Arial, sans-serif;
    background: linear-gradient(180deg, #000000, #111111);
    color: white;
    padding-bottom: 260px;
}

/* BANNER */
.banner {
    text-align: center;
    padding: 40px 20px;
    background: radial-gradient(circle at center, #ff4d00 0%, #000 60%);
}

.banner h1 {
    font-size: 36px;
    background: linear-gradient(90deg, #ff4d00, #ff9900);
    -webkit-background-clip: text;
    color: transparent;
}

/* CONTADOR */
.cart-icon {
    position: fixed;
    top: 20px;
    right: 20px;
    background: #ff4d00;
    padding: 10px 14px;
    border-radius: 50px;
}

.cart-icon span {
    background: white;
    color: black;
    border-radius: 50%;
    padding: 3px 7px;
    margin-left: 5px;
    font-size: 12px;
}

/* PRODUTOS */
.section {
    padding: 20px;
}

.product {
    background: #1a1a1a;
    padding: 15px;
    margin: 10px 0;
    border-radius: 10px;
}

button {
    background: linear-gradient(90deg, #ff4d00, #ff9900);
    color: white;
    border: none;
    padding: 8px 12px;
    margin-top: 8px;
    border-radius: 5px;
    cursor: pointer;
}

input {
    width: 60px;
}

/* CARRINHO */
.cart {
    position: fixed;
    bottom: 0;
    width: 100%;
    background: #000;
    padding: 15px;
    border-top: 2px solid #ff4d00;
    max-height: 240px;
    overflow-y: auto;
}

.remove-btn {
    background: red;
    padding: 4px 8px;
    font-size: 12px;
}
</style>
</head>

<body>

<div class="banner">
<h1>ADEGA AFTER üçª</h1>
<p>Entrega r√°pida em Diadema</p>
</div>

<div class="cart-icon">
üõí <span id="contador">0</span>
</div>

<div class="section">

<div class="product">
Skol 269ml ‚Äì R$ 3,99<br>
Qtd:
<input type="number" id="q1" min="1" value="1">
<button onclick="addCarrinho('Skol 269ml', 3.99, 'q1')">Adicionar</button>
</div>

<div class="product">
Petra Puro Malte 269ml ‚Äì R$ 3,49<br>
Qtd:
<input type="number" id="q2" min="1" value="1">
<button onclick="addCarrinho('Petra Puro Malte 269ml', 3.49, 'q2')">Adicionar</button>
</div>

</div>

<div class="cart">
<h3>üõí Seu Pedido</h3>
<div id="lista"></div>

<p>Subtotal: R$ <span id="subtotal">0.00</span></p>
<p>Taxa de Entrega: R$ <span id="taxa">0.00</span></p>
<p><strong>Total: R$ <span id="total">0.00</span></strong></p>

<button onclick="finalizarPedido()">Finalizar Pedido</button>
<button onclick="esvaziarCarrinho()">Esvaziar</button>
</div>

<script>
let carrinho = [];

function addCarrinho(nome, preco, qtdId) {
    let qtd = parseInt(document.getElementById(qtdId).value);

    carrinho.push({nome, preco, qtd});
    atualizarCarrinho();
}

function removerItem(index) {
    carrinho.splice(index, 1);
    atualizarCarrinho();
}

function calcularTaxa(subtotal) {
    if (subtotal >= 50) return 0;
    if (subtotal >= 30) return 5;
    return 8;
}

function atualizarCarrinho() {
    let lista = document.getElementById("lista");
    let subtotal = 0;
    lista.innerHTML = "";

    carrinho.forEach((item, index) => {
        let totalItem = item.preco * item.qtd;
        subtotal += totalItem;

        lista.innerHTML += `
            ${item.qtd}x ${item.nome} - R$ ${totalItem.toFixed(2)}
            <button class="remove-btn" onclick="removerItem(${index})">X</button>
            <br><br>
        `;
    });

    let taxa = calcularTaxa(subtotal);
    let totalFinal = subtotal + taxa;

    document.getElementById("contador").innerText = carrinho.length;
    document.getElementById("subtotal").innerText = subtotal.toFixed(2);
    document.getElementById("taxa").innerText = taxa.toFixed(2);
    document.getElementById("total").innerText = totalFinal.toFixed(2);
}

function finalizarPedido() {
    if (carrinho.length === 0) {
        alert("Seu carrinho est√° vazio!");
        return;
    }

    let subtotal = 0;
    let mensagem = "Ol√° quero pedir:%0A%0A";

    carrinho.forEach(item => {
        let totalItem = item.preco * item.qtd;
        subtotal += totalItem;
        mensagem += `${item.qtd}x ${item.nome} - R$ ${totalItem.toFixed(2)}%0A`;
    });

    let taxa = calcularTaxa(subtotal);
    let totalFinal = subtotal + taxa;

    mensagem += `%0ASubtotal: R$ ${subtotal.toFixed(2)}%0A`;
    mensagem += `Taxa: R$ ${taxa.toFixed(2)}%0A`;
    mensagem += `Total: R$ ${totalFinal.toFixed(2)}%0A%0A`;
    mensagem += "Forma de pagamento:%0AEndere√ßo:";

    let numero = "5511939377454";
    window.open("https://wa.me/" + numero + "?text=" + mensagem, "_blank");
}

function esvaziarCarrinho() {
    carrinho = [];
    atualizarCarrinho();
}
</script>

</body>
</html>
